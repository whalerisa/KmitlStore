<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMITL Store - Order Form</title>
    <link rel="stylesheet" href="homepage.css">
    <script src="../Componant/Navbar.js" defer></script>
    <script src="../Componant/ProductCard.js" defer></script>
    <script src="../Componant/Footer.js" defer></script>
</head>

<body>

    <!-- ใช้ Web Component ของ Navbar -->
    <my-navbar></my-navbar>

    <!-- Category Section -->
    <section class="categories">
        <h2>หมวดหมู่</h2>
        <div class="category-grid">
            <div class="category-item">
                <img src="../icons/shirt-icon.png" alt="Men's Clothing">
                <p>Men's clothing</p>
            </div>
            <div class="category-item">
                <img src="../icons/dress-icon.png" alt="Women's Clothing">
                <p>Women's clothing</p>
            </div>
            <div class="category-item">
                <img src="../icons/calculator-icon.png" alt="School Supplies">
                <p>School supplies</p>
            </div>
            <div class="category-item">
                <img src="../icons/LeaseAgreement-icon.png" alt="Lease Agreement">
                <p>Lease Agreement</p>
            </div>
            <div class="category-item">
                <img src="../icons/Vehicle-icon.jpg" alt="Vehicle">
                <p>Vehicle</p>
            </div>
            <div class="category-item">
                <img src="../icons/Other-icon.png" alt="Other">
                <p>Other</p>
            </div>
        </div>
    </section>

    <!-- Product Recommendation Section -->
    <section class="products">
        <h2>DIARY DISCOVERY</h2>
        <div class="product-grid" id="product-grid"></div>
    </section>
    <script>
        async function fetchProducts() {
            try {
                const response = await fetch('http://localhost:3000/products');
                const products = await response.json();
    
                const productGrid = document.querySelector('.product-grid');
                productGrid.innerHTML = ''; // ล้าง grid ก่อนเพิ่มข้อมูลใหม่
    
                products.forEach(product => {
                    const productCard = document.createElement('product-card');
                    productCard.setAttribute('image', product.image);
                    productCard.setAttribute('title', product.title);
                    productCard.setAttribute('size', product.size);
                    productCard.setAttribute('price', product.price);
                    productCard.setAttribute('description', product.description);
                    productGrid.appendChild(productCard);
                });
            } catch (error) {
                console.error('Error fetching products:', error);
            }
        }
    
        // เรียกใช้ฟังก์ชันเมื่อโหลดหน้า
        window.onload = fetchProducts;
    </script>
    

    <!-- Use Web Component of Footer -->
    <my-footer></my-footer>

    <script>
        const products = [
            {
                image: "../image/calculator1.jpg",
                detail: "เครื่องคิดเลข super-fx-plus<br>ไม่มีตำหนิ<br>ใช้งานง่าย<br>รับประกันยังอยู่",
                price: "1,060"
            },
            {
                image: "../image/Women-shirt1.jpg",
                detail: "เสื้อเชิ้ต<br>ไซส์ L<br>ใช้ครั้งเดียว<br>สีขาวสว่าง",
                price: "200"
            },
            {
                image: "../image/shoes1.jpg",
                detail: "รองเท้า<br>ไซส์ 40<br>มีกล่องให้ครบ<br>มีตำหนินิดหน่อย",
                price: "1,800"
            },
            {
                image: "../image/bag1.jpg",
                detail: "กระเป๋าเป้<br>ยังไม่เคยใช้เลย<br>สีซีดกว่าในรูปนิดหน่อย",
                price: "300"
            },
            {
                image: "../image/Laptop1.jpg",
                detail: "โน๊ตบุ๊ค asus<br>Ryzen 5 RAM 16<br>การ์ดจอแยก",
                price: "15,150"
            },
            {
                image: "../image/ipad1.jpg",
                detail: "iPad Air5<br>ความจำ 254 GB<br>ประกัน 1 ปี",
                price: "25,500"
            },
            {
                image: "../image/Laptop2.jpg",
                detail: "ACER โน๊ตบุ๊ค Nitro V 16<br>AMD Ryzen 7<br>Memory 16GB",
                price: "29,930"
            },
            {
                image: "../image/shoes2.jpg",
                detail: "รองเท้าผ้าใบ<br>ไซต์ 39<br>ใส่แค่ครั้งเดียว",
                price: "670"
            },
            {
                image: "../image/workshop-shirt1.jpg",
                detail: "เสื้อช็อปคณะวิศวะ<br>ไซต์ M<br>ไม่มีตำหนิ",
                price: "275"
            },
            {
                image: "../image/workshop-shirt2.jpg",
                detail: "เสื้อช็อปคณะวิทยาศาสตร์<br>ไซต์ L<br>ไม่ใช่ของคณะขาย",
                price: "280"
            },
            {
                image: "../image/Men-shirt2.jpg",
                detail: "เสื้อนักศึกษาชาย<br>ไซต์ M<br>ไม่เคยใส่เลย",
                price: "160"
            },
            {
                image: "../image/Malestudentpants-1.jpg",
                detail: "กางเกงนักศึกษาชาย<br>เอว 35<br>ใส่แค่ครั้งเดียว",
                price: "200"
            },
            {
                image: "../image/Men-shirt1.jpg",
                detail: "เสื้อเชิ้ตผู้ชาย<br>ไซส์ M<br>สีขาวนวล, ไม่เปื้อนเลย",
                price: "100"
            },
            {
                image: "../image/Women-shirt2.jpg",
                detail: "เสื้อนักศึกษาหญิง<br>ไซส์ L<br>ใช้ครั้งเดียว, แขนสามเหลี่ยม",
                price: "160"
            },
            {
                image: "../image/bag1.jpg",
                detail: "กระเป๋าเป้<br>ยังไม่เคยใช้เลย<br>สีซีดกว่าในรูปนิดหน่อย",
                price: "300"
            },
        ];

        const productGrid = document.getElementById('product-grid');
        

        products.forEach(product => {
            const productCard = document.createElement('product-card');
            productCard.setAttribute('image', product.image);
            productCard.setAttribute('detail', product.detail);
            productCard.setAttribute('price', product.price);
            productGrid.appendChild(productCard);
        });
    </script>

</body>

</html>
