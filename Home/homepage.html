<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMITL Store - Order Form</title>
    <link rel="stylesheet" href="homepage.css">
    <script src="../Componant/Navbar.js" defer></script>
    <script src="../Componant/ProductCard.js" defer></script> 
    <script src="../Componant/Footer.js" defer></script>
    
</head>

<body>

    <!-- ใช้ Web Component ของ Navbar -->
    <my-navbar></my-navbar>

    <!-- Category Section -->
    <section class="categories">
        <h2>หมวดหมู่</h2>
        <div class="category-grid">
            <div class="category-item">
                <img src="../icons/shirt-icon.png" alt="Men's Clothing">
                <p>Men's clothing</p>
            </div>
            <div class="category-item">
                <img src="../icons/dress-icon.png" alt="Women's Clothing">
                <p>Women's clothing</p>
            </div>
            <div class="category-item">
                <img src="../icons/calculator-icon.png" alt="School Supplies">
                <p>School supplies</p>
            </div>
            <div class="category-item">
                <img src="../icons/LeaseAgreement-icon.png" alt="Lease Agreement">
                <p>Lease Agreement</p>
            </div>
            <div class="category-item">
                <img src="../icons/Vehicle-icon.jpg" alt="Vehicle">
                <p>Vehicle</p>
            </div>
            <div class="category-item">
                <img src="../icons/Other-icon.png" alt="Other">
                <p>Other</p>
            </div>
        </div>
    </section>

    <!-- Product Recommendation Section -->
    <section class="products">
        <h2>DIARY DISCOVERY</h2>
        <div class="product-grid">
            <product-card 
                image="../image/pleated-skirt-1.jpg"
                title="กระโปรงนักศึกษา"
                size="ไซส์ M"
                price="250"
                description="ยาว 32, ยังไม่เคยใส่เลย..."
            ></product-card>

            <product-card 
                image="../image/calculator1.jpg"
                title="เครื่องคิดเลข super-fx-plus"
                size="ไม่มีตำหนิ"
                price="1,060"
                description="ใช้งานง่าย, รับประกันยังอยู่"
            ></product-card>

            <product-card 
                image="../image/Women-shirt1.jpg"
                title="เสื้อเชิ้ต"
                size="ไซส์ L"
                price="200"
                description="ใช้ครั้งเดียว, สีขาวสว่าง"
            ></product-card>

            <product-card 
                image="../image/shoes1.jpg"
                title="รองเท้า"
                size="ไซส์ 40"
                price="1,800"
                description="มีกล่องให้ครบ, มีตำหนินิดหน่อย"
            ></product-card>

            <product-card 
                image="../image/bag1.jpg"
                title="กระเป๋าเป้"
                size="ยังไม่เคยใช้เลย"
                price="300"
                description="สีซีดกว่าในรูปนิดหน่อย"
            ></product-card>

            <!-- Row 2 -->
            <product-card 
                image="../image/Laptop1.jpg"
                title="โน๊ตบุ๊ค asus"
                size="ryzen 5 ram 16"
                price="15,150"
                description="การ์ดจอแยก"
            ></product-card>

            <product-card 
                image="../image/ipad1.jpg"
                title="ipad air5"
                size="ความจำ 254 G"
                price="25,500"
                description="ประกัน 1 ปี"
            ></product-card>

            <product-card 
                image="../image/Laptop2.jpg"
                title="ACER โน๊ตบุ๊ค Nitro V 16"
                size="AMD Ryzen 7"
                price="29,930"
                description="Memory16GB"
            ></product-card>

            <product-card 
                image="../image/shoes2.jpg"
                title="รองเท้าผ้าใบ"
                size="ไซต์ 39"
                price="670"
                description="ใส่แค่ครั้งเดียว"
            ></product-card>

            <product-card 
                image="../image/workshop-shirt1.jpg"
                title="เสื้อช็อปคณะวิศวะ"
                size="ไซต์ M"
                price="275"
                description="ไม่มีตำหนิ"
            ></product-card>

            <!-- Row 3 -->
            <product-card 
                image="../image/workshop-shirt2.jpg"
                title="เสื้อช็อปคณะวิทยาศาสตร์"
                size="ไซต์ L"
                price="280"
                description="ไม่ใช่ของคณะขาย"
            ></product-card>

            <product-card 
                image="../image/Men-shirt2.jpg"
                title="เสื้อนักศึกษาชาย"
                size="ไซต์ M"
                price="160"
                description="ไม่เคยใส่เลย"
            ></product-card>

            <product-card 
                image="../image/Malestudentpants-1.jpg"
                title="กางเกงนักศึกษาชาย"
                size="เอว 35"
                price="200"
                description="ใส่แค่ครั้งเดียว"
            ></product-card>

            <product-card 
                image="../image/Men-shirt1.jpg"
                title="เสื้อเชิ้ตผู้ชาย"
                size="ไซส์ M"
                price="100"
                description="สีขาวนวล, ไม่เปื้อนเลย"
            ></product-card>

            <product-card 
                image="../image/Women-shirt2.jpg"
                title="เสื้อนักศึกษาหญิง"
                size="ไซส์ L"
                price="160"
                description="ใช้ครั้งเดียว, แขนสามเหลี่ยม"
            ></product-card>
        </div>
    </section>
    <script>
        async function fetchProducts() {
            try {
                const response = await fetch('http://localhost:3000/products');
                const products = await response.json();
    
                const productGrid = document.querySelector('.product-grid');
                productGrid.innerHTML = ''; // ล้าง grid ก่อนเพิ่มข้อมูลใหม่
    
                products.forEach(product => {
                    const productCard = document.createElement('product-card');
                    productCard.setAttribute('image', product.image);
                    productCard.setAttribute('title', product.title);
                    productCard.setAttribute('size', product.size);
                    productCard.setAttribute('price', product.price);
                    productCard.setAttribute('description', product.description);
                    productGrid.appendChild(productCard);
                });
            } catch (error) {
                console.error('Error fetching products:', error);
            }
        }
    
        // เรียกใช้ฟังก์ชันเมื่อโหลดหน้า
        window.onload = fetchProducts;
    </script>
    

    <!-- Use Web Component of Footer -->
    <my-footer></my-footer>

</body>

</html>
